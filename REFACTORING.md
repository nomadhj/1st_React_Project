# 리팩토링 기록
 
 ## 일자별 주요 변경 내용 기록 
  - **모든 변경 내용은 이 Repo와 [README](README.md)의 배포 링크를 통해 확인 가능**
 ### 22/08/27
   - 서버없이 배포 위한 Firebase 인증 API 적용
   - fetch 함수 사용 시 url을 직접 입력하는 방식에서 API 모듈을 별도 생성, import하여 사용하는 식으로 변경
   - Firebase 적용에 따른 불필요한 컴포넌트(개인정보 입력 관련 컴포넌트)삭제
 ### 22/08/28
   - 제품 리스트 및 제품 상세 데이터 베이스 적용 완료에 따른 서버 통신 기능 구현 (Firebase 활용)
   - React portal 기능을 활용하여, 특정 컴포넌트에서 모달창을 사용하더라도 해당 모달 창을 index.html의 최상단에 렌더링 되도록 변경
   - 장바구니 관련 기능 중 클라이언트에서 구현되어 있던 기능들을 REST API를 통해 구현 완료
   ```
     - 아이템 추가, 수량 및 체크상태 변경, 삭제 등을 itemList state를 조작하는 방식에서 POST, PATCH, DELETE를 통해 구현 후, 
     그 결과만 GET으로 가져오는 방식으로 구현
     - 제품 상세 페이지에서 제품을 장바구니에 추가하는 기능은 해당 컴포넌트에서 fetch를 부르는 방식 => context를 활용하여 필요한 함수만 호출하도록 변경
     - 해당 기능은 배포 url을 통해 확인 할 수 있음
   ```
   ![Aug-29-2022 14-16-44](https://user-images.githubusercontent.com/101119985/187128537-30131efc-a3d3-49d3-aa66-f36fef31e239.gif)
   - 이전에 구현해 놓은 인증 context를 활용하여, 비 로그인 사용자의 장바구니 아이템 추가나 페이지 접근을 막음
   - 각 컴포넌트에 모두 import되어 있던 NAV, FOOTER 컴포넌트를 Router 컴포넌트에 import 함으로써 한번의 import로 사용할 수 있게 함
   - 기존에 구현 해 놓은 주문 버튼 컴포넌트를 재사용 가능한 컴포넌트로 활용하기 위해 코드 개선
   ```
     - 기존에는 주문만 가능한 장바구니 페이지 전용 버튼에 불과했으나, 코드 개선을 통해 다른 컴포넌트에도 사용할 수 있는 공용 UI 컴포넌트로 개선됨.
     - 개선 이후 해당 컴포넌트를 다른 컴포넌트(에러모달, 장바구니 아이템 추가 모달)에 적용 완료
   ```
   ![스크린샷 2022-08-29 오후 2 21 58](https://user-images.githubusercontent.com/101119985/187128726-9111aa74-eb99-4154-a4a7-f0f44baedfe9.png)
   - 함수와 Class name, 그리고 텍스트가 지정되어 있어 다른 컴포넌트에서 재사용이 불가능 하던 왼쪽 코드에서 props를 통해 버튼 클릭시 동작할 함수와 스타일, 그리고 텍스트를 받아들이도록
   구현하여 재사용성을 높임
  ### 22/08/29
   - cart Context를 통해 props chain 없이 Nav 컴포넌트의 뱃지기능 추가
   ```
     - 네비게이션 바의 장바구니 아이콘 옆에 위치
     - 장바구니에 아이템을 추가 시 자동으로 수 업데이트
     - 동일 아이템 추가시에는 업데이트 되지 않고, 새로운 아이템 추가시에만 업데이트 됨. 즉 뱃지의 수는 장바구니안에 있는 제품들 종류 수를 나타냄
   ```
   ![Aug-29-2022 14-52-39](https://user-images.githubusercontent.com/101119985/187132627-19472c1c-2876-4070-aa9e-35442a04269c.gif)

 ## 추가로 개선 할 부분
   - ~~cart context를 활용, 장바구니 아이콘에 실시간으로 변하는 badge기능 추가해 볼 것~~
   - 모든 컴포넌트에 구현 된 fetch 함수들을 커스텀 훅을 활용하여 유지보수성 높일 것
   - 장바구니 아이템 체크박스 체크/해제 시 서버와 통신으로 인해 딜레이가 발생하는데 해당 부분 개선할 방법 없는지 고민
